(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n(55)},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(21),i=n.n(c),s=n(16),l=n(8),o=n(14),u=(n(42),n(9)),m=n(10),d=n(12),p=n(11),f=n(13),h=n(2),g=n.n(h),v=(g.a.string.isRequired,g.a.string.isRequired,g.a.arrayOf(g.a.string),g.a.string.isRequired,g.a.string.isRequired,n(43),n(44),function(e){var t=e.children;return r.a.createElement("span",{className:"badge"},t)});v.defaultProps={children:null};var E=function(e){var t=e.title,n=e.categories,a=e.etaRange,c=e.imageUrl,i=e.id;return r.a.createElement(l.b,{to:"/".concat(i),className:"restaurant-card"},r.a.createElement("img",{src:c,alt:"",className:"restaurant-card__img"}),r.a.createElement("h3",{className:"restaurant-card__title"},t),r.a.createElement("p",{className:"restaurant-card__categories"},n.join(" \u2022 ")),r.a.createElement(v,null,a))};E.defaultProps={categories:[]};n(46);var b=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.loadRestaurants()}},{key:"render",value:function(){var e=this.props.restaurants;return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"cards-grid"},e.map(function(e){return r.a.createElement(E,Object.assign({key:e.id},e))})))}}]),t}(a.Component),_=n(15),O=n.n(_),y=n(19),N=function(e){return function(t){return{type:e,payload:t}}},j={get:function(){var e=Object(y.a)(O.a.mark(function e(t,n){var a,r,c;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:5000/").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,c=r.data,e.abrupt("return",c);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},k=N("SET_RESTAURANTS"),w=N("SET_RESTAURANT_DETAILS"),x=n(27),R=Object(x.a)(function(e){return e.listData},function(e){if(!e)return[];var t=e.feedItems,n=e.storesMap;return t.map(function(e){var t=e.uuid,a=n[t],r=a.title,c=a.categories,i=a.etaRange,s=a.heroImageUrl;return{id:t,title:r,categories:c,etaRange:i?i.text:"25 - 30 min",imageUrl:s}})}),S=Object(x.a)(function(e){return e.details},function(e,t){return t},function(e,t){var n=e[t];if(!n)return null;var a=n.title,r=n.etaRange,c=n.categories,i=n.heroImageUrls,s=n.location.address,l=n.sections[0],o=l.subsectionUuids,u=l.uuid,m=n.subsectionsMap,d=n.sectionEntitiesMap[u];return{title:a,categories:c,address:s,sections:o.map(function(e){return m[e]}),entitiesMap:d,imageUrls:i,etaRange:r?r.text:"25 - 30 min"}}),C=Object(s.b)(function(e){return{restaurants:R(e)}},{loadRestaurants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"london";return function(){var t=Object(y.a)(O.a.mark(function t(n){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.get("restaurants",{city:e});case 2:a=t.sent,n(k(a));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(b),T=(n(48),n(49),function(e){return function(t){"Enter"===t.key&&e(t)}}),U=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={extended:!1},n.inputRef=Object(a.createRef)(),n.closeOnClickOutside=function(e){e.target.closest(".extendable-input")||n.close()},n.listenClickOutside=function(){window.addEventListener("click",n.closeOnClickOutside)},n.unListenClickOutside=function(){window.removeEventListener("click",n.closeOnClickOutside)},n.close=function(){n.setState({extended:!1},n.unListenClickOutside)},n.open=function(){n.state.extended||n.setState({extended:!0},function(){n.inputRef.current.focus(),setTimeout(n.listenClickOutside)})},n.clear=function(){n.props.onChange("")},n.onEnter=function(){n.props.onChange(n.inputRef.current.value),n.close()},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){this.unListenClickOutside()}},{key:"render",value:function(){var e=this.props,t=e.iconUrl,n=e.onChange,a=e.buttonText,c=e.placeholder,i=e.name,s=e.value,l=e.type,o=e.className,u=this.state.extended,m="".concat(o," extendable-input").concat(u?" extendable-input--extended":"");return r.a.createElement("div",{className:m,onClick:this.open,role:"button",tabIndex:0,onKeyDown:T(this.open),onFocus:this.open},t&&r.a.createElement("img",{className:"extendable-input__icon",src:t,alt:"input icon"}),!u&&r.a.createElement("span",{className:"extendable-input__btn"},s||a),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{name:i,ref:this.inputRef,className:"extendable-input__input",type:l,placeholder:c,onChange:function(e){var t=e.target;return n(t.value)},value:s,onKeyDown:T(this.onEnter)}),s&&r.a.createElement("button",{className:"extendable-input__clear-btn",type:"button",onClick:this.clear},"Clear"),r.a.createElement("span",{className:"extendable-input__separator"}),r.a.createElement("button",{type:"button",onClick:this.close},r.a.createElement("img",{className:"extendable-input__close-icon",src:"./images/close-button.svg",alt:"close"}))))}}]),t}(a.Component);U.defaultProps={iconUrl:null,onChange:function(){},buttonText:"",placeholder:"",value:"",type:"text",className:""};var D,P=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={location:"",search:"",time:"",isSticky:!1,height:0},n.containerRef=Object(a.createRef)(),n.manageSticky=function(){var e=window.scrollY,t=n.state.isSticky;if(0===e||t)0===e&&t&&n.setState({isSticky:!1,height:0});else{var a=n.containerRef.current.getBoundingClientRect().height;n.setState({isSticky:!0,height:a})}},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.location,a=t.search,c=t.time,i=t.isSticky,s=t.height,o="header ".concat(i?"header--sticky":"");return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:o,ref:this.containerRef},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header__inner"},r.a.createElement(l.b,{to:"/"},r.a.createElement("img",{className:"header__logo",src:"./images/logo.svg",alt:"Uber Eats"})),r.a.createElement("div",{className:"header__delivery-info delivery-info"},r.a.createElement(U,{name:"location",onChange:function(t){return e.setState({location:t})},placeholder:"Where we should deliver?",buttonText:"Deliver address",iconUrl:"./images/place.svg",value:n}),r.a.createElement(U,{name:"time",onChange:function(t){return e.setState({time:t})},iconUrl:"./images/clock.svg",buttonText:"Deliver time",value:c,type:"time"})),r.a.createElement(U,{name:"search",onChange:function(t){return e.setState({search:t})},placeholder:"What are you craving?",buttonText:"Search",iconUrl:"./images/search.svg",value:a,className:"header__search"}),r.a.createElement("button",{type:"button",className:"header__btn"},"Sign in")))),r.a.createElement("div",{className:"header__placeholder",style:{height:s}}))}}]),t}(a.Component),A=n(17),M=n(32),I=n(20);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach(function(t){Object(I.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a=arguments.length>1?arguments[1]:void 0,r=e[a.type];return r?r(n,a):n}}((D={},Object(I.a)(D,"SET_RESTAURANTS",function(e,t){return F({},e,{listData:t.payload})}),Object(I.a)(D,"SET_RESTAURANT_DETAILS",function(e,t){var n=t.payload;return F({},e,{details:F({},e.details,Object(I.a)({},n.uuid,n))})}),D),{listData:null,details:{}}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.c,B=[M.a],J=Object(A.d)(q,W(A.a.apply(void 0,B))),K=(n(50),n(51),function(e){var t=e.list;return r.a.createElement("ul",{className:"categories-menu__list"},t.map(function(e){var t=e.title,n=e.uuid;return r.a.createElement("li",{key:n,className:"categories-menu__item"},r.a.createElement("a",{href:"#".concat(n),className:"categories-menu__link"},t))}))});K.defaultProps={list:[]};var X=Object(o.e)(K),V=(n(52),n(53),function(e){var t=e.imageUrl,n=e.title,a=e.price,c=e.description;return r.a.createElement("li",{className:"menu-item-card"},r.a.createElement("div",{className:"menu-item-card__info"},r.a.createElement("h3",{title:n,className:"menu-item-card__title"},n),r.a.createElement("p",{title:c,className:"menu-item-card__description"},c),r.a.createElement("p",{className:"menu-item-card__price"},"\xa3".concat(a.toFixed(2)))),r.a.createElement("img",{src:t,alt:n,className:"menu-item-card__img"}))});V.defaultProps={description:""};var Y=function(e){var t=e.title,n=e.uuid,a=e.items;return r.a.createElement("section",{className:"menu-section"},r.a.createElement("h2",{className:"menu-section__title",id:n},t),r.a.createElement("ul",{className:"cards-grid"},a.map(function(e){return r.a.createElement(V,Object.assign({key:e.uuid},e))})))},z=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.loadRestaurantDetails(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.restaurant;if(!e)return null;var t=e.title,n=e.categories,a=e.address,c=e.sections,i=e.entitiesMap,s=e.imageUrls,l=e.etaRange,o=s.reduce(function(e,t){return t.width>e.width?t:e}),u=s.map(function(e){var t=e.width,n=e.url;return"".concat(n," ").concat(t,"w")}).join(",\n");return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"welcome"},r.a.createElement("img",{srcSet:u,src:o.url,alt:t,className:"welcome__img"}),r.a.createElement("div",{className:"general-info"},r.a.createElement("h2",{className:"general-info__title"},t),r.a.createElement("p",{className:"general-info__categories"},n.join(" \u2022 ")),r.a.createElement(v,null,l),r.a.createElement("div",{className:"general-info__details"},r.a.createElement("span",{className:"general-info__address"},a)," \u2022 ",r.a.createElement("a",{href:"/",className:"general-info__more"},"More")))),r.a.createElement("div",{className:"content"},r.a.createElement(X,{list:c}),c.map(function(e){var t=e.uuid,n=e.title,a=e.itemUuids;return r.a.createElement(Y,{key:t,uuid:t,title:n,items:a.map(function(e){return i[e]})})})))}}]),t}(a.Component);z.defaultProps={restaurant:null};var G=Object(o.e)(Object(s.b)(function(e,t){var n=t.match;return{restaurant:S(e,n.params.id)}},{loadRestaurantDetails:function(e){return function(){var t=Object(y.a)(O.a.mark(function t(n){var a;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.get("restaurants/".concat(e));case 2:a=t.sent,n(w(a));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}})(z));n(54);i.a.render(r.a.createElement(function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(s.a,{store:J},r.a.createElement(l.a,null,r.a.createElement(P,null),r.a.createElement(o.a,{exact:!0,path:"/",component:C}),r.a.createElement(o.a,{exact:!0,path:"/:id",component:G}))))},null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4fb4cf43.chunk.js.map